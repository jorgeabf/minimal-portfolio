---
import Badge from '@/components/Badge.astro'
import Section from '@/components/Section.astro'

import { work } from '@cv'
---

<Section title='Experiencia'>
  <ul>
    {
      work.map(
        ({
          name,
          startDate,
          endDate,
          position,
          summary,
          highlights,
          remote
        }) => {
          const startYear = new Date(startDate).getFullYear()
          const endYear = endDate ? new Date(endDate).getFullYear() : 'Actual'
          return (
            <li>
              <article>
                <header>
                  <h3>
                    {name} <Badge>{remote ? 'Remoto' : 'Presencial'}</Badge>
                  </h3>
                  <time>
                    {startYear} - {endYear}
                  </time>
                </header>
                <p>
                  <strong>{position}</strong>
                </p>
                <p>{summary}</p>
                <footer>
                  <aside class='labels'>
                    {highlights.map((highlight) => {
                      return <Badge dark>{highlight}</Badge>
                    })}
                  </aside>
                </footer>
              </article>
            </li>
          )
        }
      )
    }
  </ul>
</Section>

<style>
  ul {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }
  header {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  h3 {
    display: flex;
    gap: 0.5em;
    align-items: center;
  }

  .labels {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5em;
  }

  strong {
    font-weight: 600;
    color: var(--h4-color);
  }
</style>
